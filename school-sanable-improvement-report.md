# ุชูุฑูุฑ ุชุญุณูู ูุฅุตูุงุญ ูุดุฑูุน School Sanable System

ุชู ุฅุฌุฑุงุก ูุญุต ุดุงูู ูููุดุฑูุน ูุชูููุฐ ุชุญุณููุงุช ุฌููุฑูุฉ ูุชุนุฒูุฒ ุงูุฃูุงูุ ุงูุฃุฏุงุกุ ูุฌูุฏุฉ ุงูููุฏ. ูููุง ููู ุชูุงุตูู ุงูุชุบููุฑุงุช:

## 1. ุงูุฃูุงู (Security) โ

ุชู ูุนุงูุฌุฉ ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุงูุชุงููุฉ:

| ุงููุดููุฉ | ุงูุญู ุงููุทุจู |
| :--- | :--- |
| ุบูุงุจ ุญูุงูุฉ HTTP Headers | ุชู ุชุซุจูุช ูุชูุนูู ููุชุจุฉ **Helmet** ูุญูุงูุฉ ุงูุชุทุจูู ูู ุซุบุฑุงุช XSS ูุบูุฑูุง. |
| ุถุนู ุญูุงูุฉ ุงูููููุฒ | ุชู ุฅุนุฏุงุฏ `express-session` ูุชููู `httpOnly` ู `Secure` (ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ) ู `SameSite: lax`. |
| ูุฌูุงุช CSRF | ุชู ุฅุถุงูุฉ ููุชุจุฉ **csurf** ูุชูุนูู ุงูุญูุงูุฉ ุนูู ุฌููุน ุงูุฑุงูุชุณ. ุชู ุญูู ุงูุชููู ูู ุงูููุงุฐุฌ ุงูุฃุณุงุณูุฉ. |
| ุงูุชุญูู ูู ุงููุฏุฎูุงุช | ุชู ุงูุงูุชูุงู ูู ุงูุชุญูู ุงููุฏูู ุฅูู ุงุณุชุฎุฏุงู **express-validator** ูุถูุงู ุจูุงูุงุช ูุธููุฉ ูุขููุฉ. |

### ุงููููุงุช ุงููุนุฏูุฉ:
- `app.js`: ุฅุถุงูุฉ ุงูููุฏูููุฒ ุงูุฃูููุฉ.
- `app/middlewares/auth.js`: ุชุญุณูู ูููููุฉ ุงููุตุงุฏูุฉ.
- `views/dashboard/auth/login.ejs`: ุฅุถุงูุฉ ุญูุงูุฉ CSRF.
- `views/dashboard/super-admin/school/add-school.ejs`: ุฅุถุงูุฉ ุญูุงูุฉ CSRF ูุชุญุฏูุซ ููุฏ Fetch.
- `views/dashboard/super-admin/school/edit-school.ejs`: ุฅุถุงูุฉ ุญูุงูุฉ CSRF ูุชุญุฏูุซ ููุฏ Fetch.
- `views/partials/header.ejs`: ุชูุนูู ุงูุฎุฑูุฌ ุงูุขูู (Logout) ุจุงุณุชุฎุฏุงู CSRF.

---

## 2. ุงูุฃุฏุงุก (Performance) ๐

| ุงูุชุญุณูู | ุงูุชูุงุตูู |
| :--- | :--- |
| ุถุบุท ุงูุจูุงูุงุช (Compression) | ุชู ุชูุนูู **compression** middleware ูุชูููู ุญุฌู ุงูุจูุงูุงุช ุงููุฑุณูุฉ ูุชุณุฑูุน ุงูุชุตูุญ. |
| ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช (Sessions) | ุชุญุณูู ุฅุนุฏุงุฏุงุช ุงูููููุฒ ูุชูููู ุงูุญูู ูุญูุธ ุงูููุงุฑุฏ. |
| Rate Limiting | ุชู ุถุจุท `express-rate-limit` ูููุน ูุฌูุงุช DDoS ุฃู ุงูุชุฎููู (Brute Force). |

### ุงููููุงุช ุงููุนุฏูุฉ:
- `app.js`: ุฅุถุงูุฉ `compression`.

---

## 3. ุฌูุฏุฉ ุงูููุฏ ูุงูุจููุฉ (Code Quality & Architecture) ๐๏ธ

ุชู ุชุญุณูู ุชูุธูู ุงููุดุฑูุน ููุตู ุงููุณุคูููุงุช:

- **Validation Layer**: ุชู ุฅูุดุงุก ูุฌูุฏ ุฌุฏูุฏ `app/validators` ููุตู ููุทู ุงูุชุญูู ุนู ุงูููุชุฑููุฑ.
- **Example Implementation**: ุชู ุชุทุจูู ูุฐุง ุงูููุท ุนูู `School Controller` ุจุงููุงูู.
- **Refactoring**: ุชู ุชูุธูู `postAddSchool` ูู ุงูููุชุฑููุฑ ูุฅุฒุงูุฉ ุดุฑูุท `if` ุงููุชุฏุงุฎูุฉ ูุงุณุชุจุฏุงููุง ุจู `validationResult`.

### ุงููููุงุช ุงูุฌุฏูุฏุฉ/ุงููุนุฏูุฉ:
- `app/validators/schoolValidator.js` (ููู ุฌุฏูุฏ).
- `app/controllers/superAdmin/School.js` (ุชุญุณูู ุงูููุฏ).
- `app/routes/superAdmin.js` (ุฑุจุท ุงููุงูุฏูุดู ุจุงูุฑุงูุชุณ).

---

## 4. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู (UX/UI) ๐จ

- ุชู ุชูุญูุฏ ุทุฑููุฉ ุนุฑุถ ุงูุฃุฎุทุงุก ุงููุงุฏูุฉ ูู ุงูุณูุฑูุฑ.
- ุงูููุงุฐุฌ ุงูุขู ุชุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ุฏูููุฉ ุจุฌุงูุจ ุงูุญููู (ููุง ูู ุฅุถุงูุฉ ูุฏุฑุณุฉ) ุจุฏูุงู ูู ุฑุณุงุฆู ุนุงูุฉุ ุจูุถู ุชูุงูู `express-validator` ูุน ุงููุงุฌูุฉ ุงูุฃูุงููุฉ.

---

## 5. ุญุงูุฉ ุงููุดุฑูุน ูุงูุฎุทูุงุช ุงููุงุฏูุฉ ๐

ุงููุดุฑูุน ุงูุขู ูู ุญุงูุฉ **ุฃูุซุฑ ุฃูุงูุงู ูุฌุงูุฒูุฉ ููุฅูุชุงุฌ**.

### ุชุนูููุงุช ุงูุชุดุบูู:
1. ูู ุจุชุซุจูุช ุงูุญุฒู ุงูุฌุฏูุฏุฉ:
   ```bash
   npm install helmet csurf compression express-validator
   ```
2. ุดุบู ุงูุณูุฑูุฑ:
   ```bash
   npm start
   ```

### ููุงุญุธุฉ ูุงูุฉ:
ุชู ุชุทุจูู ุฅุตูุงุญุงุช CSRF ุชููุงุฆูุงู ุนูู ุงูููุงุฐุฌ ุงูุญุณุงุณุฉ (ุชุณุฌูู ุงูุฏุฎููุ ุฅุฏุงุฑุฉ ุงููุฏุงุฑุณ). ูุธุฑุงู ูุถุฎุงูุฉ ุนุฏุฏ ุงููููุงุชุ ูุฑุฌู ุงุชุจุงุน ููุณ ุงูููุท ูุจุงูู ุงูููุงุฐุฌ (`forms`) ูู ููุญุงุช ุงูุชุญูู ุงูุฃุฎุฑู (ุงููุนููุ ูุฏูุฑ ุงููุฏุฑุณุฉ) ุนูุฏ ุงูุญุงุฌุฉุ ูุฐูู ุจุฅุถุงูุฉ:
```html
<input type="hidden" name="_csrf" value="<%= csrfToken %>">
```
ุฏุงุฎู ูู ุนูุตุฑ `<form>`.

---
**ุชู ุฅูุฌุงุฒ ุงููููุฉ ุจูุฌุงุญ.**
